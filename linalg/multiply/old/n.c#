#include<stdio.h>
#include<string.h>
void main(int argc, char *argv[])
{
	FILE *infile;
	int i,j,k,n,index;
	int x,y;
	int **A,**B,**C;
	int counter1 = 1 ;
	int counter2= 1 ;
	char *s;
	char *tokenPtr;
	A=(int **)malloc(n*sizeof (int *));
	B=(int **)malloc(n*sizeof (int *));
	C=(int **)malloc(n*sizeof (int *));
	s=(char *)malloc(1024*sizeof (char));

        if (argc!=2)
        {
                printf("usage '%s infile'.\n",argv[0]);
                exit(-1);
        }
        else
	{
                infile=fopen(argv[1],"r");     	// get the infile.
                if(infile==NULL) 		// check the infile .
                {
                        printf("that's illogical.\n");
                        exit (-1);
                }
                fscanf (infile,"%d",&n);
                printf ("%d",n);     		// get n. 
	}
        for ( i=1 ; i<=n ; i++)			//  init matrices 
        {
                A[i] = (int *)malloc(n*sizeof(int));
                B[i] = (int *)malloc(n*sizeof(int));
                C[i] = (int *)malloc(n*sizeof(int));
        }
        while (fgets(s,1024,infile))
	{
		printf("%s",s);
		tokenPtr=strtok(s," ");
		while (tokenPtr!=NULL) 
		{
//			printf ("%s",tokenPtr);
			A[counter2][counter1]=atoi(tokenPtr);
			printf ("%d",A[counter2][counter1]);
			counter1++;
			tokenPtr=strtok(NULL," ");
		}
		counter2++;
	}
//        for ( i=1 ; i<=n ; i++)			
//       {
//      	for ( j=1 ; i<=n ; j++)			
//		{
//			printf("%d\n",A[i][j]);
//		}
//       }
// fgets in a whole line 
// strtok the string by spaces 
// then atof the string 
}
